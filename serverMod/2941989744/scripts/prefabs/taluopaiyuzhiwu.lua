    STRINGS.NAMES.TALUOPAI_DAODIAOREN = "倒吊人"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_DAODIAOREN = "*倒吊人：畏惧所带来绝望"
    STRINGS.RECIPE_DESC.TALUOPAI_DAODIAOREN = "畏惧所带来绝望"
	
	    STRINGS.NAMES.TALUOPAI_EM = "恶魔"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_EM = "*恶魔：神秘所带来未知"
    STRINGS.RECIPE_DESC.TALUOPAI_EM = "*恶魔：神秘所带来未知"
	
	    STRINGS.NAMES.TALUOPAI_HUANGDI = "皇帝"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_HUANGDI = "挑战我"
    STRINGS.RECIPE_DESC.TALUOPAI_HUANGDI = "挑战我"
	
	    STRINGS.NAMES.TALUOPAI_JIEZHI = "节制"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_JIEZHI = "*节制：愿您内心纯洁"
    STRINGS.RECIPE_DESC.TALUOPAI_JIEZHI = "*节制：愿您内心纯洁"
	
	    STRINGS.NAMES.TALUOPAI_LIANREN = "恋人"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_LIANREN = "*恋人：愿您健康繁盛"
    STRINGS.RECIPE_DESC.TALUOPAI_LIANREN = "*恋人：愿您健康繁盛"
	
		    STRINGS.NAMES.TALUOPAI_LILIANG = "力量"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_LILIANG = "*力量：愿您力中唤怒"
    STRINGS.RECIPE_DESC.TALUOPAI_LILIANG = "*力量：愿您力中唤怒"
	
			    STRINGS.NAMES.TALUOPAI_MINGYUN = "命运"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_MINGYUN = "命运之轮：转动命运之轮"
    STRINGS.RECIPE_DESC.TALUOPAI_MINGYUN = "命运之轮：转动命运之轮"
	
	
			    STRINGS.NAMES.TALUOPAI_MOSHUSHI = "魔术师"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_MOSHUSHI = "*魔术师：你是女巫吗"
    STRINGS.RECIPE_DESC.TALUOPAI_MOSHUSHI = "*魔术师：你是女巫吗"
	
			    STRINGS.NAMES.TALUOPAI_NVHUANG = "女皇"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_NVHUANG = "*女皇：愿您怒中生力"
    STRINGS.RECIPE_DESC.TALUOPAI_NVHUANG =  "*女皇：愿您怒中生力"
	
			    STRINGS.NAMES.TALUOPAI_NVJISI = "女祭司"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_NVJISI = "*女祭司：献祭所带来希望"
    STRINGS.RECIPE_DESC.TALUOPAI_NVJISI =  "*女祭司：献祭所带来希望"
	
				    STRINGS.NAMES.TALUOPAI_SHENPAN = "审判"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_SHENPAN = "*审判：为避审而审判"
    STRINGS.RECIPE_DESC.TALUOPAI_SHENPAN =  "*审判：为避审而审判"
	
					    STRINGS.NAMES.TALUOPAI_SHIJIE = "世界"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_SHIJIE = "*世界：睁眼洞察世界"
    STRINGS.RECIPE_DESC.TALUOPAI_SHIJIE =  "*世界：睁眼洞察世界"
	
	
					    STRINGS.NAMES.TALUOPAI_SISHEN = "死神"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_SISHEN = "*死神：畏惧所带来毁灭"
    STRINGS.RECIPE_DESC.TALUOPAI_SISHEN =  "*死神：畏惧所带来毁灭"
	
					    STRINGS.NAMES.TALUOPAI_TA = "塔"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_TA = "*塔：毁灭带来创造"
    STRINGS.RECIPE_DESC.TALUOPAI_TA =  "*塔：毁灭带来创造"
	
					    STRINGS.NAMES.TALUOPAI_TAIYANG = "太阳"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_TAIYANG = "*太阳：愿光赐你启示"
    STRINGS.RECIPE_DESC.TALUOPAI_TAIYANG =  "*太阳：愿光赐你启示"
	
					    STRINGS.NAMES.TALUOPAI_XINGXING = "星星"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_XINGXING = "*星星：愿你心想事成"
    STRINGS.RECIPE_DESC.TALUOPAI_XINGXING =  "*星星：愿你心想事成"
	
						    STRINGS.NAMES.TALUOPAI_YINZHE = "隐者"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_YINZHE = "*隐者：愿您看破红尘"
    STRINGS.RECIPE_DESC.TALUOPAI_YINZHE =  "*隐者：愿您看破红尘"
	
						    STRINGS.NAMES.TALUOPAI_YUELIANG = "月亮"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_YUELIANG = "*月亮：愿你失而复得"
    STRINGS.RECIPE_DESC.TALUOPAI_YUELIANG =  "*月亮：愿你失而复得"
	
	
						    STRINGS.NAMES.TALUOPAI_YUZHE = "愚者"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_YUZHE = "*愚者：愚者从零开始"
    STRINGS.RECIPE_DESC.TALUOPAI_YUZHE =  "*愚者：愚者从零开始"
	
						    STRINGS.NAMES.TALUOPAI_ZHENGYI = "正义"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_ZHENGYI = "*正义：愿您仕途平稳"
    STRINGS.RECIPE_DESC.TALUOPAI_ZHENGYI =  "*正义：愿您仕途平稳"
	
						    STRINGS.NAMES.TALUOPAI_ZHANCHE = "战车"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_ZHANCHE = "*战车：愿您所向披靡"
    STRINGS.RECIPE_DESC.TALUOPAI_ZHANCHE =  "*战车：愿您所向披靡"
						    STRINGS.NAMES.TALUOPAI_JIAOHUANG = "教皇"
    STRINGS.CHARACTERS.GENERIC.DESCRIBE.TALUOPAI_JIAOHUANG = "*教皇：祷告两次"
    STRINGS.RECIPE_DESC.TALUOPAI_JIAOHUANG =  "*教皇：祷告两次"	

local book_defs = {{
    name = "taluopai_daodiaoren",
    names = "taluopai_daodiaoren",
},
 {
    name = "taluopai_em",
    names = "taluopai_em",
}, 

{
    name = "taluopai_huangdi",
    names = "taluopai_huangdi",
}, {
    name = "taluopai_jiezhi",
    names = "taluopai_jiezhi",
}, {
    name = "taluopai_lianren",
    names = "taluopai_lianren",
}, 
{
    name = "taluopai_liliang",
    names = "taluopai_liliang",
}, 

{
    name = "taluopai_mingyun",
    names = "taluopai_mingyun",
},
{
    name = "taluopai_moshushi",
    names = "taluopai_moshushi",
},
{
    name = "taluopai_nvhuang",
    names = "taluopai_nvhuang",
},
{
    name = "taluopai_nvjisi",
    names = "taluopai_nvjisi",
},
{
    name = "taluopai_shenpan",
    names = "taluopai_shenpan",
},
{
    name = "taluopai_shijie",
    names = "taluopai_shijie",
},
{
    name = "taluopai_sishen",
    names = "taluopai_sishen",
},
{
    name = "taluopai_ta",
    names = "taluopai_ta",
},
{
    name = "taluopai_taiyang",
    names = "taluopai_taiyang",
},
{
    name = "taluopai_xingxing",
    names = "taluopai_xingxing",
},
{
    name = "taluopai_yinzhe",
    names = "taluopai_yinzhe",
},
{
    name = "taluopai_yueliang",
    names = "taluopai_yueliang",
},
{
    name = "taluopai_yuzhe",
    names = "taluopai_yuzhe",
},
{
    name = "taluopai_zhengyi",
    names = "taluopai_zhengyi",
},
{
    name = "taluopai_zhanche",
    names = "taluopai_zhanche",
},

{
    name = "taluopai_jiaohuang",
    names = "taluopai_jiaohuang",
},

}

local function jiezhifuzhi(inst, doer, target, success, transformed_inst, container)

		if doer.SoundEmitter then
			doer.SoundEmitter:PlaySound("guipai/NGXY/guipaiya")
		end
		
    local spawn_fx_at = (container ~= nil and container.inst) or transformed_inst or target or doer

    if spawn_fx_at then
	
		if math.random(1, 100) <= 60  then
	if TheNet then
		TheNet:Announce("？节制：复制失败 物品已被销毁···")
	end
		            if spawn_fx_at.components.stackable ~= nil and spawn_fx_at.components.stackable:IsStack() then
                        spawn_fx_at.components.stackable:Get():Remove()
                    else
                        spawn_fx_at:Remove()
                    end
		else
                    local info = spawn_fx_at:GetSaveRecord()
                    local item = SpawnPrefab(info.prefab, info.skinname, info.skin_id)

                    if item and item:IsValid() then
                        if item.Physics then
                            item.Physics:Teleport(spawn_fx_at.Transform:GetWorldPosition())
                        else
                            item.Transform:SetPosition(spawn_fx_at.Transform:GetWorldPosition())
                        end
                        item:SetPersistData(info.data)
                        if item.components.inventoryitem then
                            item.components.inventoryitem:OnDropped(true, 0.5)
                        end
                    end	
					if TheNet then
		TheNet:Announce("？节制：复制成功 ···")
	end
		end
	
        -- local diaoxiangbianhua = spawn_fx_at.prefab
        -- if diaoxiangbianhua then
            -- local jiance = string.match(diaoxiangbianhua, "chesspiece_(%w+)")
            -- if jiance then
                -- local bianhuole = SpawnPrefab(jiance)
                -- if bianhuole then
                    -- bianhuole.Transform:SetPosition(spawn_fx_at.Transform:GetWorldPosition())
                    -- SpawnPrefab("halloween_moonpuff").Transform:SetPosition(spawn_fx_at.Transform:GetWorldPosition())

                    -- if spawn_fx_at.components.stackable ~= nil and spawn_fx_at.components.stackable:IsStack() then
                        -- spawn_fx_at.components.stackable:Get():Remove()
                    -- else
                        -- spawn_fx_at:Remove()
                    -- end
                -- end
            -- end
        -- end
    end
end
local function MakeBook(def)

    local function fn()
        local inst = CreateEntity()

        inst.entity:AddTransform()
        inst.entity:AddAnimState()
        inst.entity:AddSoundEmitter()
		inst.entity:AddMiniMapEntity()
        inst.entity:AddNetwork()

        MakeInventoryPhysics(inst)
		
		inst.MiniMapEntity:SetIcon(def.names ..".tex")
		
        inst.AnimState:SetBuild(def.names)
		

		inst.AnimState:SetBank(def.names)
		inst.AnimState:PlayAnimation("idle")

        inst.entity:SetPristine()
		    inst:AddTag("shadow_item")
			    inst:AddTag("bookcabinet_item")
				    inst:AddTag("taluopai")
		
        if not TheWorld.ismastersim then
            return inst
        end

        -----------------------------------
		inst:AddComponent("inspectable")

		inst:AddComponent("inventoryitem")

		inst:AddComponent("stackable")
		
		if def.names and def.names == "taluopai_jiezhi" then
		inst:AddComponent("halloweenpotionmoon")
		inst.components.halloweenpotionmoon:SetOnUseFn(jiezhifuzhi)
		end
	
        inst.components.inventoryitem.imagename = def.names
        inst.components.inventoryitem.atlasname = "images/taluopai/" .. def.names .. ".xml"
		inst:AddComponent("fuel")
		inst.components.fuel.fuelvalue = 999
		MakeMediumBurnable(inst)
		MakeMediumPropagator(inst)
		MakeHauntableLaunchAndSmash(inst)
        MakeHauntableLaunch(inst)
        return inst
    end
	
local assets = 
{
Asset("ANIM", "anim/" ..def.names.. ".zip"), 
Asset("IMAGE", "images/taluopai/" .. def.names .. ".tex"),				
Asset("ATLAS", "images/taluopai/" .. def.names .. ".xml")
}
    return Prefab(def.name, fn, assets, prefabs)
end


local books = {}
for i, v in ipairs(book_defs) do
    table.insert(books, MakeBook(v))
end
book_defs = nil
return unpack(books)