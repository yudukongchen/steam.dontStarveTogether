local XpkjA={Asset("ANIM","anim/hua_phonograph.zip"),Asset("SOUND","sound/maxwell.fsb"),Asset("SOUND","sound/music.fsb"),Asset("SOUND","sound/gramaphone.fsb"),Asset("SOUNDPACKAGE","sound/hua_phonograph.fev"),Asset("SOUND","sound/hua_phonograph.fsb")}local function pVRj(XL_)XL_.AnimState:PlayAnimation("play_loop",true)XL_.SoundEmitter:PlaySound("hua_phonograph/hua_sound/sound","pvz")XL_:PushEvent("turnedon")end;local function fuZ3z86(WYdR)WYdR.AnimState:PlayAnimation("idle")WYdR.SoundEmitter:KillSound("pvz")WYdR.SoundEmitter:PlaySound("dontstarve/music/gramaphone_end")WYdR:PushEvent("turnedoff")end;local function er(QKKks_zt,Are7xU)QKKks_zt.SoundEmitter:KillSound("pvz")local yxjl=SpawnPrefab("collapse_small")yxjl.Transform:SetPosition(QKKks_zt.Transform:GetWorldPosition())yxjl:SetMaterial("wood")QKKks_zt:Remove()end;local function DFb100j()local ZG=CreateEntity()ZG.entity:AddTransform()ZG.entity:AddAnimState()ZG.entity:AddSoundEmitter()ZG.entity:AddNetwork()ZG.AnimState:SetBank("hua_phonograph")ZG.AnimState:SetBuild("hua_phonograph")ZG.AnimState:PlayAnimation("idle")ZG.entity:SetPristine()if not TheWorld.ismastersim then return ZG end;ZG:AddComponent("inspectable")ZG:AddComponent("machine")ZG.components.machine.turnonfn=pVRj;ZG.components.machine.turnofffn=fuZ3z86;ZG:AddComponent("workable")ZG.components.workable:SetWorkAction(ACTIONS.HAMMER)ZG.components.workable:SetWorkLeft(2) ZG.components.workable:SetOnFinishCallback(er)return ZG end;return Prefab("hua_phonograph",DFb100j,XpkjA),MakePlacer("hua_phonograph_placer","hua_phonograph","hua_phonograph","idle")